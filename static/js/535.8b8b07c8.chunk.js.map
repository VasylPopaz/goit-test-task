{"version":3,"file":"static/js/535.8b8b07c8.chunk.js","mappings":"qOACA,EAAyB,uBAAzB,EAA0D,wBAA1D,EAA0F,sBAA1F,EAA6H,2B,SCmF7H,EAxEe,WAAO,IAADA,EAAAC,EACnBC,GAA0DC,EAAAA,EAAAA,KAAlDC,EAASF,EAATE,UAAWC,EAAaH,EAAbG,cAAeC,EAAIJ,EAAJI,KAAMC,EAAML,EAANK,OAAQC,EAAKN,EAALM,MAChDC,GAAsCC,EAAAA,EAAAA,WAAS,GAAMC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA9CI,EAAWF,EAAA,GAAEG,EAAcH,EAAA,GAE5BI,GAAWC,EAAAA,EAAAA,MAEXC,GAAWC,EAAAA,EAAAA,MACXC,GAAeC,EAAAA,EAAAA,QAA2B,QAArBpB,EAAe,QAAfC,EAACgB,EAASI,aAAK,IAAApB,OAAA,EAAdA,EAAgBqB,YAAI,IAAAtB,EAAAA,EAAI,KAE9CuB,EAAejB,EAAO,IAAkB,OAAbD,QAAa,IAAbA,OAAa,EAAbA,EAAemB,QAE1CC,GAAaC,EAAAA,EAAAA,cAAY,WAC7B,IAAMC,EAAS,CACbC,OAAQ,CACNtB,KAAAA,EACAuB,MAAO,IAGXd,GAASe,EAAAA,EAAAA,IAASH,IACfI,SACAC,OACAC,OAAM,kBACLC,EAAAA,GAAAA,MAAY,iDAAiD,GAEnE,GAAG,CAACnB,EAAUT,KAEd6B,EAAAA,EAAAA,YAAU,WACRpB,GAASqB,EAAAA,EAAAA,OACTtB,GAAe,EACjB,GAAG,CAACC,KAEJoB,EAAAA,EAAAA,YAAU,WACJtB,GACFY,GAEJ,GAAG,CAACV,EAAUU,EAAYZ,IAM1B,OACEwB,EAAAA,EAAAA,MAAA,WAASC,UAAWC,EAASC,SAAA,CAC1BpC,IAAaqC,EAAAA,EAAAA,KAACC,EAAAA,GAAM,KACrBD,EAAAA,EAAAA,KAAA,OAAKH,UAAS,YAAcE,SACzBhC,GACCiC,EAAAA,EAAAA,KAAA,MAAIH,UAAWC,EAAaC,SAAC,oDAI7BH,EAAAA,EAAAA,MAAAM,EAAAA,SAAA,CAAAH,SAAA,EACEH,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAUC,SAAA,EACxBC,EAAAA,EAAAA,KAACG,EAAAA,GAAU,CAACC,GAAI1B,EAAa2B,WAC7BL,EAAAA,EAAAA,KAACM,EAAAA,GAAM,OAEM,OAAb1C,QAAa,IAAbA,GAAAA,EAAemB,QAAWpB,EAKxB,MAJFiC,EAAAA,EAAAA,MAAA,MAAIC,UAAWC,EAAQC,SAAA,CAAC,yBACCjC,EAAO,+CAIlCkC,EAAAA,EAAAA,KAACO,EAAAA,GAAS,IACTzB,GACCkB,EAAAA,EAAAA,KAACQ,EAAAA,GAAW,CAACC,QA1BG,WAC1BnC,GAASoC,EAAAA,EAAAA,MACX,IAyBc,YAMhB,C","sources":["webpack://tweets-app/./src/pages/Tweets/Tweets.module.css?3fe9","pages/Tweets/Tweets.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"tweets\":\"Tweets_tweets__2WkJR\",\"wrapper\":\"Tweets_wrapper__p5HEc\",\"title\":\"Tweets_title__1om6S\",\"errorTitle\":\"Tweets_errorTitle__ximR7\"};","import { useCallback, useEffect, useRef, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useLocation } from 'react-router-dom';\nimport { toast } from 'react-toastify';\n\nimport { UsersList, LoadMoreBtn, GoBackLink, Filter, Loader } from 'components';\n\nimport { getUsers, increasePage, resetUsers } from '../../redux';\nimport { useUsers } from 'hooks';\n\nimport s from './Tweets.module.css';\n\nconst Tweets = () => {\n  const { isLoading, filteredUsers, page, filter, error } = useUsers();\n  const [isResetDone, setIsResetDone] = useState(false);\n\n  const dispatch = useDispatch();\n\n  const location = useLocation();\n  const backLinkHref = useRef(location.state?.from ?? '/');\n\n  const showLoadMore = page < 5 && filteredUsers?.length;\n\n  const fetchUsers = useCallback(() => {\n    const config = {\n      params: {\n        page,\n        limit: 3,\n      },\n    };\n    dispatch(getUsers(config))\n      .unwrap()\n      .then()\n      .catch(() =>\n        toast.error('Sorry, something went wrong. Please try again.')\n      );\n  }, [dispatch, page]);\n\n  useEffect(() => {\n    dispatch(resetUsers());\n    setIsResetDone(true);\n  }, [dispatch]);\n\n  useEffect(() => {\n    if (isResetDone) {\n      fetchUsers();\n    }\n  }, [dispatch, fetchUsers, isResetDone]);\n\n  const handleLoadMoreClick = () => {\n    dispatch(increasePage());\n  };\n\n  return (\n    <section className={s.tweets}>\n      {isLoading && <Loader />}\n      <div className={`container`}>\n        {error ? (\n          <h2 className={s.errorTitle}>\n            Sorry, something went wrong. Please try again.\n          </h2>\n        ) : (\n          <>\n            <div className={s.wrapper}>\n              <GoBackLink to={backLinkHref.current} />\n              <Filter />\n            </div>\n            {!filteredUsers?.length && !isLoading ? (\n              <h2 className={s.title}>\n                No users with status \"{filter}\". Try&nbsp;choosing another\n                filter value.\n              </h2>\n            ) : null}\n            <UsersList />\n            {showLoadMore ? (\n              <LoadMoreBtn onClick={handleLoadMoreClick} />\n            ) : null}\n          </>\n        )}\n      </div>\n    </section>\n  );\n};\n\nexport default Tweets;\n"],"names":["_location$state$from","_location$state","_useUsers","useUsers","isLoading","filteredUsers","page","filter","error","_useState","useState","_useState2","_slicedToArray","isResetDone","setIsResetDone","dispatch","useDispatch","location","useLocation","backLinkHref","useRef","state","from","showLoadMore","length","fetchUsers","useCallback","config","params","limit","getUsers","unwrap","then","catch","toast","useEffect","resetUsers","_jsxs","className","s","children","_jsx","Loader","_Fragment","GoBackLink","to","current","Filter","UsersList","LoadMoreBtn","onClick","increasePage"],"sourceRoot":""}